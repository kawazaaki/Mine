<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ§Ú©ØªÙˆØ± ÙØ±ÙˆØ´</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            position: relative;
            top: 40px;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        input {
            width: 100%;
            text-align: center;
            border: none;
            background: transparent;
        }
        select {
            position: absolute;
            top: 80px;
        }
        #addBtn {
            position: absolute;
            top: 76px;
            right: 140px;
            transition: 100ms;
            border-radius: 10px;
            cursor: pointer;
        }
        #addBtn:active {
            background-color: rgba(0, 0, 0, 0.295);
        }
        #t {
            font-size: 10px;
            color: rgba(0, 0, 0, 0.623);
        }
        .delete-btn {
            cursor: pointer;
            color: red;
        }
        .description-cell {
            position: relative;
        }
        #downloadBtn {
            position: absolute;
            top: 76px;
            right: 190px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
        }
        .action-buttons {
            position: absolute;
            top: 50px;
            right: 200px;
        }
        .toggle-wrapper{
            position: absolute;
            top: 20px;
            left: 60px;
        }
        #type{
            position: absolute;
            top: 20px;
            left: 0px;
        }
        #date{
            position: absolute;
            top: 40px;
        }
        #dateInput{
            border:1px solid #ccc;
            padding: 1px; 
            border-radius:5px;
            text-align: center;
            width: 100px;
        }
        #ceck{
            position: absolute;
        }
    </style>
</head>
<body dir="rtl">
    <button id="downloadBtn">Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§Ú©ØªÙˆØ±</button>
    <img src="add_24dp_434343.svg" alt="" id="addBtn">
    <select name="" id="itemSelect">

    <option value="" disabled selected>Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù†</option>
    <option>Ø¯Ø³ØªÙ…Ø²Ø¯ Ù„ÙˆÙ„Ù‡ Â¼1</option>
    <option>Ø¯Ø³ØªÙ…Ø²Ø¯ Ù„ÙˆÙ„Ù‡ Â½1</option>
    <option>Ø¯Ø³ØªÙ…Ø²Ø¯ Ù„ÙˆÙ„Ù‡ 2</option>
    <option>Ù„ÙˆÙ„Ù‡ Â½1</option>
    <option>Ù„ÙˆÙ„Ù‡ 2</option>
    <option>Ù†Ù‚Ø´Ù‡ G6</option>
    <option>Ù†Ù‚Ø´Ù‡ G6 Ø¯Ùˆ ÙˆØ§Ø­Ø¯Ù‡</option>
    <option>Ù†Ù‚Ø´Ù‡ G10</option>
    <option>Ù†Ù‚Ø´Ù‡ G10 Ø³Ù‡ ÙˆØ§Ø­Ø¯Ù‡</option>
    <option>Ù†Ù‚Ø´Ù‡ G25</option>
    <option>Ù†Ù‚Ø´Ù‡ G40</option>
    <option>Ù†Ù‚Ø´Ù‡ G65</option>
    <option>Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ù†Ø§Ø¸Ø± Ø±ÙˆØ³ØªØ§ÛŒÛŒ</option>
    <option>Ú¯Ø±Ø¯Ø´ Ù¾Ø±ÙˆÙ†Ø¯Ù‡ Ø±ÙˆØ³ØªØ§ÛŒÛŒ</option>
    <option>Ø¨Ø±Ø´Ú©Ø§Ø±ÛŒ Â½1</option>
    <option>Ø¨Ø±Ø´Ú©Ø§Ø±ÛŒ 2</option>
    <option>Ø¨Ø±Ø´Ú©Ø§Ø±ÛŒ Â½2</option>
    <option>Ø¨Ø±Ø´Ú©Ø§Ø±ÛŒ 3</option>
    <option>Ø¨Ø±Ø´Ú©Ø§Ø±ÛŒ 4</option>
    <option>Ù„ÙˆÙ„Ù‡ Ú©Ø´ÛŒ Ú¯Ø§Ø² ØªØ¬Ø§Ø±ÛŒ Ø²ÛŒØ± 20 Ù…ØªØ±</option>

    
</select>
<div id="date">
    <label for="dateInput">ØªØ§Ø±ÛŒØ® ÙØ§Ú©ØªÙˆØ±: </label>
<input type="text" id="dateInput" >
</div>
    <h5>Ø¬Ù…Ø¹ Ú©Ù„: <span id="totalSum">0</span> ØªÙˆÙ…Ø§Ù†</h5>
 


<h5 id="type">ØªÙˆÚ©Ø§Ø±</h5>

<table id="myTable">
    <thead>
        <tr>
            <th>Ø´Ø±Ø­</th>
            <th>Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯</th>
            <th>ØªØ¹Ø¯Ø§Ø¯</th>
            <th>Ø¬Ù…Ø¹ <span id="t">(ØªÙˆÙ…Ø§Ù†)</span></th>
        </tr>
    </thead>
    <tbody>
        <tr>
           <td class="description-cell">Ù„ÙˆÙ„Ù‡ &#188;1 </td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù„ÙˆÙ„Ù‡ 1 </td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù„ÙˆÙ„Ù‡ &#190;</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù„ÙˆÙ„Ù‡ &#189;</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
           <td class="description-cell">Ø§ØªØµØ§Ù„Ø§Øª &#188;1</td>
            <td>58,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø§ØªØµØ§Ù„Ø§Øª 1</td>
            <td>56,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø´ÛŒØ± Ø¢Ø°Ø± Ø³Ù†Ú¯ÛŒÙ† &#188;1</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell"> Ø´ÛŒØ± Ø¢Ø°Ø± Ø³Ù†Ú¯ÛŒÙ† 1</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
           <td class="description-cell"> Ø´ÛŒØ± Ø¢Ø°Ø± Ø³Ù†Ú¯ÛŒÙ† &#190;</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø´ÛŒØ± Ø¢Ø°Ø± Ø³Ù†Ú¯ÛŒÙ† &#189;</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù‚ÙÙ„ Ø´ÙˆÙ†Ø¯Ù‡ Ø¢Ø°Ø±</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø±Ø§Ø¨Ø· Ú©Ø§Ù…Ù„</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
           <td class="description-cell">ØªÙÙ„ÙˆÙ†</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù¾Ø±Ø§ÛŒÙ…Ø±</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø±Ù†Ú¯</td>
            <td>17,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù†Ù‚Ø´Ù‡ G4</td>
            <td>2,100,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø®Ø¯Ù…Ø§Øª Ø«Ø¨Øª</td>
            <td>145,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ú¯Ø±Ø¯Ø´ Ù¾Ø±ÙˆÙ†Ø¯Ù‡ Ø´Ù‡Ø±ÛŒ</td>
            <td>420,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ù†Ø§Ø¸Ø± Ø´Ù‡Ø±ÛŒ</td>
            <td>145,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø¨Ø±Ø´Ú©Ø§Ø±ÛŒ &#188;1</td>
            <td>520,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø¨Ø±Ø´Ú©Ø§Ø±ÛŒ 1</td>
            <td>390,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø¬Ø§ Ø¨Ù‡ Ø¬Ø§ÛŒÛŒ Ú©Ù†ØªÙˆØ±</td>
            <td>520,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù†ØµØ¨ Ú©Ù†ØªÙˆØ± Ù…ÙˆØ¬ÙˆØ¯</td>
            <td>500,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù†ØµØ¨ Ø±Ú¯ÙˆÙ„Ø§ØªÙˆØ± Ù…ÙˆØ¬ÙˆØ¯</td>
            <td>500,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        
        <tr>
            <td class="description-cell">Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù„Ú©ØªÙˆØ±</td>
            <td>260,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø´ÛŒØ± ÙØ±Ø¹ÛŒ Ø¯Ø± Ù…Ø³ÛŒØ±</td>
            <td>260,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø¯Ø³ØªÙ…Ø²Ø¯ Ù„ÙˆÙ„Ù‡ 1</td>
            <td>140,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ù¾Ø§ÛŒÛŒÙ† Ø¢ÙˆØ±Ø¯Ù† Ø³ÛŒØ³ØªÙ… <br> Ø¨Ø±Ø§ÛŒ Ù‡Ø± ÙˆØ§Ø­Ø¯</td>
            <td>750,000</td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
        <tr>
            <td class="description-cell">Ø­Ù…Ù„ ÙˆØ³Ø§ÛŒÙ„</td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        </tr>
    </tbody>
</table>
<!-- CDN ØªØ¨Ø¯ÛŒÙ„ ØªØ§Ø±ÛŒØ® Ù…ÛŒÙ„Ø§Ø¯ÛŒ Ø¨Ù‡ Ø´Ù…Ø³ÛŒ -->
<script src="https://cdn.jsdelivr.net/npm/jalaali-js/dist/jalaali.min.js"></script>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<script>
// Ø¬Ø¯Ø§Ú©Ù†Ù†Ø¯Ù‡ Ù‡Ø²Ø§Ø±Ú¯Ø§Ù†
function formatNumber(num) {
    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

// ØªØ¨Ø¯ÛŒÙ„ Ø¹Ø¯Ø¯ ÙØ±Ù…Øªâ€ŒØ´Ø¯Ù‡ Ø¨Ù‡ Ø¹Ø¯Ø¯ Ø®Ø§Ù„Øµ
function parseFormattedNumber(str) {
    return parseFloat(str.replace(/,/g, '')) || 0;
}

// Ù‡Ù†Ø¯Ù„ ÙˆØ±ÙˆØ¯ Ù‚ÛŒÙ…Øª
function handlePriceInput(input) {
    const cursorPosition = input.selectionStart;
    let value = input.value;
    let numericValue = value.replace(/[^0-9]/g, '');
    let number = parseFloat(numericValue) || 0;
    input.setAttribute('data-value', number);
    input.value = formatNumber(number);
    let newCursorPosition = cursorPosition;
    const diff = input.value.length - value.length;
    if (diff > 0) {
        newCursorPosition += diff;
    }
    input.setSelectionRange(newCursorPosition, newCursorPosition);
    calculateRowSum(input.closest('tr'));
}

// Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¬Ù…ÙˆØ¹ Ù‡Ø± Ø±Ø¯ÛŒÙ
function calculateRowSum(row) {
    const price = parseFloat(row.querySelector('.price-input').getAttribute('data-value')) || 0;
    const quantity = parseFloat(row.querySelector('.quantity-input').value) || 0;
    const sum = price * quantity;
    row.querySelector('.sum-cell').textContent = formatNumber(sum);
    calculateTotalSum();
}

// Ø¬Ù…Ø¹ Ú©Ù„
function calculateTotalSum() {
    const sumCells = document.querySelectorAll('.sum-cell');
    let total = 0;
    sumCells.forEach(cell => {
        const value = parseFormattedNumber(cell.textContent) || 0;
        total += value;
    });
    document.getElementById('totalSum').textContent = formatNumber(total);
}

// Ø­Ø°Ù Ø±Ø¯ÛŒÙ
function removeRow(row, productName) {
    row.remove();
    const select = document.getElementById('itemSelect');
    const newOption = document.createElement('option');
    newOption.textContent = productName;
    select.appendChild(newOption);
    calculateTotalSum();
}

// Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø±Ø¯ÛŒÙ Ø¬Ø¯ÛŒØ¯
document.getElementById('addBtn').addEventListener('click', function () {
    const select = document.getElementById('itemSelect');
    const selectedItem = select.value;

    if (selectedItem && selectedItem !== "Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù†") {
        const table = document.querySelector('#myTable tbody');
        const newRow = table.insertRow(-1);

        newRow.innerHTML = `
            <td class="description-cell">${selectedItem} <span class="delete-btn">âŒ</span></td>
            <td><input type="text" class="price-input" data-value="0"></td>
            <td><input type="number" class="quantity-input"></td>
            <td class="sum-cell">0</td>
        `;

        newRow.querySelector('.price-input').addEventListener('input', function () {
            handlePriceInput(this);
        });

        newRow.querySelector('.quantity-input').addEventListener('input', function () {
            calculateRowSum(this.closest('tr'));
        });

        newRow.querySelector('.delete-btn').addEventListener('click', function () {
            removeRow(newRow, selectedItem);
        });

        // Ø­Ø°Ù Ø§Ø² Ù„ÛŒØ³Øª
        const optionToRemove = Array.from(select.options).find(option => option.value === selectedItem || option.text === selectedItem);
        if (optionToRemove) {
            select.removeChild(optionToRemove);
        }

        select.value = "";
    }
});

// Ø¯Ú©Ù…Ù‡ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§Ú©ØªÙˆØ±
document.getElementById('downloadBtn').addEventListener('click', function () {
    const rows = document.querySelectorAll('#myTable tbody tr');
    const totalSum = document.getElementById('totalSum').textContent;
    const dateValue = document.getElementById('dateInput').value;

    let anyError = false;

    rows.forEach(row => {
        const priceInput = row.querySelector('.price-input');
        const quantityInput = row.querySelector('.quantity-input');

        const price = parseFloat(priceInput.getAttribute('data-value')) || 0;
        const quantity = parseFloat(quantityInput.value) || 0;

        priceInput.style.backgroundColor = '';
        quantityInput.style.backgroundColor = '';

        if ((price > 0 && quantity === 0) || (price === 0 && quantity > 0)) {
            anyError = true;
            if (price === 0) priceInput.style.backgroundColor = 'rgba(255,0,0,0.3)';
            if (quantity === 0) quantityInput.style.backgroundColor = 'rgba(255,0,0,0.3)';
        }
    });

    if (anyError) {
        alert("Ù„Ø·ÙØ§Ù‹ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù†Ø§Ù‚Øµ Ø±Ø§ Ú©Ø§Ù…Ù„ Ú©Ù†ÛŒØ¯.");
        return;
    }

    const table = document.querySelector("#myTable");
    const clonedTable = table.cloneNode(true);
    const tbody = clonedTable.querySelector('tbody');

    // Ø­Ø°Ù Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù„ÛŒ
    Array.from(tbody.rows).forEach(row => {
        const price = parseFloat(row.querySelector('.price-input')?.getAttribute('data-value')) || 0;
        const quantity = parseFloat(row.querySelector('.quantity-input')?.value) || 0;
        if (price === 0 && quantity === 0) {
            row.remove();
        }
    });

    // Ø­Ø°Ù inputÙ‡Ø§ Ùˆ ØªØ¨Ø¯ÛŒÙ„â€ŒØ´ÙˆÙ† Ø¨Ù‡ span
    tbody.querySelectorAll('input').forEach(input => {
        const td = input.parentElement;
        const span = document.createElement('span');
        span.textContent = input.value || '0';
        td.textContent = '';
        td.appendChild(span);
    });

    // Ø­Ø°Ù Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø°Ù
    clonedTable.querySelectorAll('.delete-btn').forEach(btn => btn.remove());

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¬Ù…Ø¹ Ú©Ù„
    const finalRow = document.createElement('tr');
    const td = document.createElement('td');
    td.colSpan = 4;
    td.style.textAlign = "center";
    td.style.fontWeight = "bold";
    td.textContent = "Ø¬Ù…Ø¹ Ú©Ù„: " + totalSum + " ØªÙˆÙ…Ø§Ù†";
    finalRow.appendChild(td);
    tbody.appendChild(finalRow);

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØªØ§Ø±ÛŒØ® Ø¨Ø§Ù„Ø§ÛŒ Ø¬Ø¯ÙˆÙ„
    const caption = document.createElement('caption');
    caption.textContent = 'ØªØ§Ø±ÛŒØ® ÙØ§Ú©ØªÙˆØ±: ' + dateValue;
    caption.style.textAlign = 'right';
    caption.style.fontWeight = 'bold';
    caption.style.marginBottom = '10px';
    clonedTable.insertBefore(caption, clonedTable.firstChild);

    // Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆÙ‚Øª Ø¨Ø±Ø§ÛŒ Ø¹Ú©Ø³
    clonedTable.style.position = 'absolute';
    clonedTable.style.top = '-9999px';
    document.body.appendChild(clonedTable);

    html2canvas(clonedTable).then(canvas => {
        const link = document.createElement('a');
        link.download = 'ÙØ§Ú©ØªÙˆØ±.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        clonedTable.remove();
    });
});

// Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
window.addEventListener('DOMContentLoaded', () => {
    const today = new Date();
    const jDate = window.jalaali.toJalaali(today.getFullYear(), today.getMonth() + 1, today.getDate());
    const formatted = `${jDate.jy}/${String(jDate.jm).padStart(2, '0')}/${String(jDate.jd).padStart(2, '0')}`;
    document.getElementById('dateInput').value = formatted;
});

// ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ Ø¯Ø± Ø¬Ø¯ÙˆÙ„ Ø§ÙˆÙ„ÛŒÙ‡
document.querySelectorAll('.price-input').forEach(input => {
    input.addEventListener('input', function () {
        handlePriceInput(this);
    });
});

document.querySelectorAll('.quantity-input').forEach(input => {
    input.addEventListener('input', function () {
        calculateRowSum(this.closest('tr'));
    });
});
function setupKeyboardNavigation() {
    const allInputs = document.querySelectorAll('.quantity-input, .price-input');
    allInputs.forEach((input, i) => {
        input.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') {
                e.preventDefault();

                // Ù„ÛŒØ³Øª Ù‡Ù…Ù‡ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø¸Ø§Ù‡Ø± Ø¯Ø± DOM
                const inputs = Array.from(document.querySelectorAll('.quantity-input, .price-input'));
                const index = inputs.indexOf(this);

                if (index > -1 && index + 1 < inputs.length) {
                    inputs[index + 1].focus();
                }
            }
        });
    });
}

// Ø¨Ø§Ø± Ø§ÙˆÙ„ Ú©Ù‡ ØµÙØ­Ù‡ Ù„ÙˆØ¯ Ù…ÛŒØ´Ù‡
window.addEventListener('DOMContentLoaded', () => {
    const today = new Date();
    const jDate = window.jalaali.toJalaali(today.getFullYear(), today.getMonth() + 1, today.getDate());
    const formatted = `${jDate.jy}/${String(jDate.jm).padStart(2, '0')}/${String(jDate.jd).padStart(2, '0')}`;
    document.getElementById('dateInput').value = formatted;

    setupKeyboardNavigation(); // ğŸ‘ˆ Ø§ÛŒÙ†Ø¬Ø§ ØµØ¯Ø§Ø´ Ø¨Ø²Ù†
});

</script>


</body>
</html>
